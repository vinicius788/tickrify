# ===================================
# TICKRIFY BACKEND - PRODUCTION ENV
# ===================================
# 
# Este arquivo contém TODAS as variáveis necessárias para produção.
# Copie este arquivo e configure na Vercel Dashboard.
#
# IMPORTANTE: Use valores de PRODUÇÃO do Stripe, não teste!
#

# ===================================
# DATABASE - SUPABASE
# ===================================
# Connection Pooler (recomendado para serverless)
DATABASE_URL=postgresql://postgres.xxx:password@aws-0-region.pooler.supabase.com:6543/postgres

# Direct Connection (para migrations)
DIRECT_URL=postgresql://postgres.xxx:password@db.xxx.supabase.co:5432/postgres

# ===================================
# AUTHENTICATION - CLERK
# ===================================
# Obtenha em: https://dashboard.clerk.com
CLERK_SECRET_KEY=YOUR_CLERK_SECRET_KEY_HERE
CLERK_PUBLISHABLE_KEY=YOUR_CLERK_PUBLISHABLE_KEY_HERE

# Webhook (opcional)
CLERK_WEBHOOK_SECRET=YOUR_CLERK_WEBHOOK_SECRET_HERE
# Bootstrap inicial de admins (separar por vírgula; remover após bootstrap)
BOOTSTRAP_ADMIN_EMAILS=admin@tickrify.com

# ===================================
# AI - OPENAI
# ===================================
# Obtenha em: https://platform.openai.com/api-keys
OPENAI_API_KEY=YOUR_OPENAI_API_KEY_HERE

# Modelo a usar (opcional, padrão: gpt-4o)
AI_MODEL=gpt-4o-mini

# ===================================
# PAYMENTS - STRIPE
# ===================================
# Obtenha em: https://dashboard.stripe.com/apikeys
# ATENÇÃO: Use suas chaves reais de PRODUÇÃO
STRIPE_SECRET_KEY=YOUR_STRIPE_SECRET_KEY_HERE
STRIPE_PUBLISHABLE_KEY=YOUR_STRIPE_PUBLISHABLE_KEY_HERE

# Webhook Secret (configure em: https://dashboard.stripe.com/webhooks)
# URL do webhook: https://seu-backend.vercel.app/api/stripe/webhook
STRIPE_WEBHOOK_SECRET=YOUR_STRIPE_WEBHOOK_SECRET_HERE

# Price IDs do plano Pro (obtenha em: https://dashboard.stripe.com/products)
STRIPE_PRICE_PRO_MONTHLY=price_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_PRO_ANNUAL=price_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ===================================
# CORS - FRONTEND URL
# ===================================
# URL do seu frontend em produção (SEM barra no final)
FRONTEND_URL=https://tickrify.vercel.app
APP_URL=https://tickrify.vercel.app
CORS_ORIGINS=https://tickrify.vercel.app

# ===================================
# STORAGE - SUPABASE (OPCIONAL)
# ===================================
# Se você usar Supabase Storage para imagens
SUPABASE_URL=https://xxx.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_JWT_SECRET=your-jwt-secret
SUPABASE_STORAGE_BUCKET=analysis-images

# ===================================
# QUEUE - REDIS (OBRIGATÓRIO EM PRODUÇÃO)
# ===================================
# Sem Redis + worker, /api/health/ready falha e /api/analyze-chart retorna 503.
# Obtenha em: https://upstash.com
REDIS_URL=redis://default:xxxxxxxxxxxxxxxxxxxxxxxxxxxxx@region.upstash.io:6379

# ===================================
# SERVER CONFIG
# ===================================
NODE_ENV=production
APP_ENV=production
PORT=3001
FREE_ANALYSIS_LIMIT_PER_MONTH=3
DEMO_MODE=false

# ===================================
# MONITORING (OPCIONAL)
# ===================================
# Sentry para error tracking
SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxx@sentry.io/xxxxx

# ===================================
# INSTRUÇÕES DE USO
# ===================================
#
# 1. Copie cada variável acima
# 2. Acesse Vercel Dashboard > Seu Projeto > Settings > Environment Variables
# 3. Adicione cada variável com seu valor real
# 4. Selecione "Production" em Environment
# 5. Clique em "Save"
# 6. Faça Redeploy do projeto
#
# ===================================
# SEGURANÇA
# ===================================
#
# ⚠️  NUNCA commite este arquivo com valores reais!
# ⚠️  Use sempre chaves de PRODUÇÃO em produção
# ⚠️  Use sempre chaves de TESTE em desenvolvimento
# ⚠️  Rotacione chaves regularmente
# ⚠️  Monitore uso de APIs (OpenAI, Stripe)
#
# ===================================
